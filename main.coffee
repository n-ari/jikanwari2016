schedule = {}

schedule["情報工学科200EO"] =
  key : "情報工学科200EO"
  color : "#cff"
  data : [
    [
      "Mon,56,プログラミング第一O"
      "Mon,78,確率と統計O"
      "Mon,56,情報実験第一E(5678)"
      "Mon,78,情報実験第一E(5678)"
      "Thu,56,プログラミング第一E"
      "Thu,78,確率と統計E"
      "Thu,56,情報実験第一O(5678)"
      "Thu,78,情報実験第一O(5678)"
      "Fri,78,フーリエ変換とラプラス変換EO"
    ]
    [
      "Mon,56,プログラミング第一O"
      "Mon,78,確率と統計O"
      "Mon,56,情報実験第一E(5678)"
      "Mon,78,情報実験第一E(5678)"
      "Tue,56,論理回路理論EO"
      "Tue,78,フーリエ変換とラプラス変換EO"
      "Thu,56,プログラミング第一E"
      "Thu,78,確率と統計E"
      "Thu,56,情報実験第一O(5678)"
      "Thu,78,情報実験第一O(5678)"
      "Fri,12,論理回路理論EO(1234)"
      "Fri,34,論理回路理論EO(1234)"
    ]
  ]

schedule["情報工学科200E"] =
  key : "情報工学科200E"
  color : "#cff"
  data : [
    [
      "Mon,56,情報実験第一E(5678)"
      "Mon,78,情報実験第一E(5678)"
      "Thu,56,プログラミング第一E"
      "Thu,78,確率と統計E"
      "Fri,78,フーリエ変換とラプラス変換EO"
    ]
    [
      "Mon,56,情報実験第一E(5678)"
      "Mon,78,情報実験第一E(5678)"
      "Tue,56,論理回路理論EO"
      "Tue,78,フーリエ変換とラプラス変換EO"
      "Thu,56,プログラミング第一E"
      "Thu,78,確率と統計E"
      "Fri,12,論理回路理論EO(1234)"
      "Fri,34,論理回路理論EO(1234)"
    ]
  ]

schedule["情報工学科200O"] =
  key : "情報工学科200O"
  color : "#cff"
  data : [
    [
      "Mon,56,プログラミング第一O"
      "Mon,78,確率と統計O"
      "Thu,56,情報実験第一O(5678)"
      "Thu,78,情報実験第一O(5678)"
      "Fri,78,フーリエ変換とラプラス変換EO"
    ]
    [
      "Mon,56,プログラミング第一O"
      "Mon,78,確率と統計O"
      "Tue,56,論理回路理論EO"
      "Tue,78,フーリエ変換とラプラス変換EO"
      "Thu,56,情報実験第一O(5678)"
      "Thu,78,情報実験第一O(5678)"
      "Fri,12,論理回路理論EO(1234)"
      "Fri,34,論理回路理論EO(1234)"
    ]
  ]

schedule["情報工学科300EO"] =
  key : "情報工学科300EO"
  color : "#9cc"
  data : [
    [
      "Mon,12,関数解析学O"
      "Mon,34,離散構造とアルゴリズムO"
      "Mon,56,離散構造とアルゴリズムE"
      "Mon,78,ディジタル通信"
      "Mon,12,情報実験第三E(1234)"
      "Mon,34,情報実験第三E(1234)"
      "Mon,56,計算機アーキテクチャ第一O"
      "Tue,12,信号処理"
      "Tue,34,情報実験第三O"
      "Tue,56,関数解析学E"
      "Tue,78,計算機ネットワーク"
      "Tue,34,プログラミング第三E"
      "Tue,56,プログラミング第三O"
      "Thu,12,人工知能基礎E"
      "Thu,34,代数系と符号理論E"
      "Thu,56,集積回路設計"
      "Thu,78,代数系と符号理論O"
      "Thu,12,情報実験第三O(1234)"
      "Thu,34,情報実験第三O(1234)"
      "Thu,78,計算機アーキテクチャ第一E"
      "Fri,34,人工知能基礎O"
      "Fri,56,離散構造とアルゴリズムEO"
      "Fri,34,情報実験第三E"
      "Fri,56,代数系と符号理論EO"
    ]
    [
      "Mon,12,関数解析学O"
      "Mon,56,計算機アーキテクチャ第一O"
      "Mon,78,ディジタル通信"
      "Mon,12,情報実験第三E(1234)"
      "Mon,34,情報実験第三E(1234)"
      "Tue,12,信号処理"
      "Tue,34,情報実験第三O"
      "Tue,56,関数解析学E"
      "Tue,78,離散構造とアルゴリズムO"
      "Tue,34,プログラミング第三E"
      "Tue,56,プログラミング第三O"
      "Tue,78,代数系と符号理論E"
      "Tue,78,計算機ネットワーク"
      "Thu,12,人工知能基礎E"
      "Thu,56,計算機アーキテクチャ第一E"
      "Thu,78,集積回路設計"
      "Thu,12,情報実験第三O(1234)"
      "Thu,34,情報実験第三O(1234)"
      "Fri,34,人工知能基礎O"
      "Fri,56,離散構造とアルゴリズムO"
      "Fri,34,情報実験第三E"
      "Fri,56,代数系と符号理論E"
      "Fri,56,離散構造とアルゴリズムE(5678)"
      "Fri,78,離散構造とアルゴリズムE(5678)"
      "Fri,56,代数系と符号理論O(5678)"
      "Fri,78,代数系と符号理論O(5678)"
    ]
  ]

schedule["情報工学科300E"] =
  key : "情報工学科300E"
  color : "#9cc"
  data : [
    [
      "Mon,56,離散構造とアルゴリズムE"
      "Mon,78,ディジタル通信"
      "Mon,12,情報実験第三E(1234)"
      "Mon,34,情報実験第三E(1234)"
      "Tue,12,信号処理"
      "Tue,56,関数解析学E"
      "Tue,78,計算機ネットワーク"
      "Tue,34,プログラミング第三E"
      "Thu,12,人工知能基礎E"
      "Thu,34,代数系と符号理論E"
      "Thu,56,集積回路設計"
      "Thu,78,計算機アーキテクチャ第一E"
      "Fri,56,離散構造とアルゴリズムEO"
      "Fri,34,情報実験第三E"
      "Fri,56,代数系と符号理論EO"
    ]
    [
      "Mon,78,ディジタル通信"
      "Mon,12,情報実験第三E(1234)"
      "Mon,34,情報実験第三E(1234)"
      "Tue,12,信号処理"
      "Tue,56,関数解析学E"
      "Tue,34,プログラミング第三E"
      "Tue,78,代数系と符号理論E"
      "Tue,78,計算機ネットワーク"
      "Thu,12,人工知能基礎E"
      "Thu,56,計算機アーキテクチャ第一E"
      "Thu,78,集積回路設計"
      "Fri,34,情報実験第三E"
      "Fri,56,代数系と符号理論E"
      "Fri,56,離散構造とアルゴリズムE(5678)"
      "Fri,78,離散構造とアルゴリズムE(5678)"
    ]
  ]

schedule["情報工学科300O"] =
  key : "情報工学科300O"
  color : "#9cc"
  data : [
    [
      "Mon,12,関数解析学O"
      "Mon,34,離散構造とアルゴリズムO"
      "Mon,78,ディジタル通信"
      "Mon,56,計算機アーキテクチャ第一O"
      "Tue,12,信号処理"
      "Tue,34,情報実験第三O"
      "Tue,78,計算機ネットワーク"
      "Tue,56,プログラミング第三O"
      "Thu,56,集積回路設計"
      "Thu,78,代数系と符号理論O"
      "Thu,12,情報実験第三O(1234)"
      "Thu,34,情報実験第三O(1234)"
      "Fri,34,人工知能基礎O"
      "Fri,56,離散構造とアルゴリズムEO"
      "Fri,56,代数系と符号理論EO"
    ]
    [
      "Mon,12,関数解析学O"
      "Mon,56,計算機アーキテクチャ第一O"
      "Mon,78,ディジタル通信"
      "Tue,12,信号処理"
      "Tue,34,情報実験第三O"
      "Tue,78,離散構造とアルゴリズムO"
      "Tue,56,プログラミング第三O"
      "Tue,78,計算機ネットワーク"
      "Thu,78,集積回路設計"
      "Thu,12,情報実験第三O(1234)"
      "Thu,34,情報実験第三O(1234)"
      "Fri,34,人工知能基礎O"
      "Fri,56,離散構造とアルゴリズムO"
      "Fri,56,代数系と符号理論O(5678)"
      "Fri,78,代数系と符号理論O(5678)"
    ]
  ]

schedule["情報工学系200"] =
  key : "情報工学系200"
  color : "#99f"
  data : [
    [
      "Tue,78,計算基礎論EO"
      "Fri,12,計算基礎論EO(1234)"
      "Fri,34,計算基礎論EO(1234)"
    ]
    []
  ]

schedule["情報工学系300"] =
  key : "情報工学系300"
  color : "#66c"
  data : [
    [
      "Tue,12,コンパイラ構成"
      "Fri,56,先端情報工学"
    ]
    [
      "Tue,12,コンパイラ構成"
      "Fri,56,先端情報工学"
    ]
  ]

schedule["文系"] =
  key : "文系"
  color : "#f99"
  data : [
    [
      "Tue,56,文系200"
      "Tue,78,文系300"
      "Fri,56,文系200"
      "Fri,78,文系300"
    ]
    [
      "Mon,12,文系200"
      "Mon,34,文系300"
      "Wed,34,文系300"
      "Thu,12,文系200"
    ]
  ]

schedule["第二外国語"] =
  key : "第二外国語"
  color : "#ff9"
  data : [
    [
      "Wed,56,二外中級1"
    ]
    [
      "Wed,56,二外中級2"
    ]
  ]

rev = {
  "Mon":1
  "Tue":2
  "Wed":3
  "Thu":4
  "Fri":5
  "Other":6
  "1":1
  "2":2
  "3":3
  "4":4
  "5":5
  "6":6
  "12":1
  "34":2
  "56":3
  "78":4
  "910":5
}

Q = 2

add = (sch,items)->
  color = sch.color
  for x in [0...Q]
    r = sch.data[x]
    for i in [0...r.length]
      item = r[i].split ','
      items[x][rev[item[1]]][rev[item[0]]].push [color,item[2]]

vm = {}

list = [
  "情報工学科200E"
  "情報工学系200"
  "文系"
  "第二外国語"
  "情報工学科300E"
  "情報工学系300"
]

update = ->
  row = ",1～2,3～4,5～6,7～8,9～10,その他".split ','
  col = ",月,火,水,木,金,その他".split ','
  items = []
  for x in [0,1]
    items[x] = []
    for i in [0...row.length]
      for j in [0...col.length]
        if j is 0
          items[x][i] = []
          items[x][i][j] = row[i]
        else if i is 0
          items[x][i][j] = col[j]
        else
          items[x][i][j] = []
  # 時間割追加
  for item in list
    console.log item
    sch = schedule[item]
    add sch, items
  # 時間割追加ここまで
  for x in [0,1]
    for i in [1...row.length]
      for j in [1...col.length]
        if items[x][i][j].length == 0
          items[x][i][j] = [["#fff",":sobaya:"]]
  vm.items = items

main = ->
  vm = new Vue
    el : "#app"
    methods :
      switchToE: ->
        console.log "JKE"
        for i in [0...list.length]
          if list[i] is "情報工学科200O" or list[i] is "情報工学科200EO"
            list[i] = "情報工学科200E"
          if list[i] is "情報工学科300O" or list[i] is "情報工学科300EO"
            list[i] = "情報工学科300E"
        do update
      switchToO: ->
        console.log "JKO"
        for i in [0...list.length]
          if list[i] is "情報工学科200E" or list[i] is "情報工学科200EO"
            list[i] = "情報工学科200O"
          if list[i] is "情報工学科300E" or list[i] is "情報工学科300EO"
            list[i] = "情報工学科300O"
        do update
      switchToEO: ->
        console.log "JKE+JKO"
        for i in [0...list.length]
          if list[i] is "情報工学科200E" or list[i] is "情報工学科200O"
            list[i] = "情報工学科200EO"
          if list[i] is "情報工学科300E" or list[i] is "情報工学科300O"
            list[i] = "情報工学科300EO"
        do update
    data :
      items : []
  do update

window.onload = main
